<div class="page-container">
    @if (loading()) {
        <div class="centered">
            <mat-spinner diameter="30" color="accent" />
        </div>
    } @else {
        <div class="page-actions">
            @if (characterData().length) {
                <button matIconButton (click)="refresh()" aria-label="Refresh All">
                    <mat-icon>refresh</mat-icon>
                </button>
            }

            <span class="action-spacer"></span>
            <button matIconButton (click)="openAddModal()">
                <mat-icon>add</mat-icon>
            </button>
        </div>

        @if (!characterData().length) {
            <div class="no-characters">
                No characters set up, click the plus button above to add some!
            </div>
        } @else {
            <div class="characters">
                @for (result of characterData(); track result.region + result.realm + result.name) {
                    <character-line [characterInfo]="result" />
                }
            </div>
        }
    }
</div>
